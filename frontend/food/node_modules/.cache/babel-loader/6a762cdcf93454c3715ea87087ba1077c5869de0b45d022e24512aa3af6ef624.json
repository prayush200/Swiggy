{"ast":null,"code":"import _defineProperty from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'../styles/login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(JSON.stringify({email:credentials.email,password:credentials.password}));_context.next=4;return fetch(\"http://localhost:7000/api/loginuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;console.log(json);if(!json.success){alert('Enter valid credentials');}if(json.success){localStorage.setItem(\"UserEmail\",credentials.email);localStorage.setItem(\"authToken\",json.authToken);console.log(localStorage.getItem(\"authToken\"));navigate(\"/\");}case 11:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(event){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},event.target.name,event.target.value)));};return/*#__PURE__*/_jsx(\"div\",{className:\"main\",id:\"logindiv\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:onChange,name:\"email\",value:credentials.email,className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:onChange,name:\"password\",value:credentials.password,className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"m-3 btn btn-primary\",children:\"Submit\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","console","log","JSON","stringify","fetch","method","headers","body","sent","success","alert","localStorage","setItem","authToken","getItem","stop","_x","apply","arguments","onChange","event","_objectSpread","_defineProperty","target","name","value","className","id","children","onSubmit","htmlFor","type","placeholder"],"sources":["D:/Food Delivery App MERN/frontend/food/src/components/Login.jsx"],"sourcesContent":["import React,{useState} from 'react'\r\nimport { Link ,useNavigate } from 'react-router-dom'\r\nimport '../styles/login.css'\r\n\r\n\r\nconst Login = () => {\r\n  let navigate=useNavigate()\r\n  const [credentials, setCredentials] = useState({ email: \"\", password: \"\" })\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(JSON.stringify({ email: credentials.email, password: credentials.password }));\r\n    const response = await fetch(\"http://localhost:7000/api/loginuser\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ email: credentials.email, password: credentials.password })\r\n\r\n    });\r\n\r\n    const json = await response.json()\r\n    console.log(json);\r\n    if (!json.success) {\r\n      alert('Enter valid credentials')\r\n    }\r\n    if (json.success) {\r\n      localStorage.setItem(\"UserEmail\",credentials.email)\r\n      localStorage.setItem(\"authToken\",json.authToken)\r\n      console.log(localStorage.getItem(\"authToken\"));\r\n      navigate(\"/\");\r\n     \r\n\r\n    }\r\n \r\n\r\n  }\r\n\r\n  const onChange = (event) => {\r\n    setCredentials({ ...credentials, [event.target.name]: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <div className='main' id='logindiv'>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email</label>\r\n          <input type=\"email\" onChange={onChange} name='email' value={credentials.email} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\r\n          <small id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\" className='form-label'>Password</label>\r\n          <input type=\"password\" onChange={onChange} name='password' value={credentials.password} className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" />\r\n        </div>\r\n        <button type=\"submit\" className=\"m-3 btn btn-primary\">Submit</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
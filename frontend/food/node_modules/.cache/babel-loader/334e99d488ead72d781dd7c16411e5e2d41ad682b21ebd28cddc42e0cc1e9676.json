{"ast":null,"code":"import _regeneratorRuntime from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useRef}from'react';import'../styles/card.css';import{useDispatchCart,useCart}from'./contextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(props){var data=useCart();var dispatch=useDispatchCart();var options=props.options;var priceOptions=Object.keys(options);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),size=_useState4[0],setSize=_useState4[1];var HandleAddtoCart=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var food,_iterator,_step,item;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:food=[];_iterator=_createForOfIteratorHelper(data);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=11;break;}item=_step.value;if(!(item.id===props.foodItem._id)){_context.next=9;break;}food=item;return _context.abrupt(\"break\",11);case 9:_context.next=4;break;case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);_iterator.e(_context.t0);case 16:_context.prev=16;_iterator.f();return _context.finish(16);case 19:if(!(!food.size==[])){_context.next=30;break;}if(!(food.size===size)){_context.next=26;break;}_context.next=23;return dispatch({type:\"UPDATE\",id:props.foodItem._id,price:finalPrice,qty:qty});case 23:return _context.abrupt(\"return\");case 26:if(!(food.size!==size)){_context.next=30;break;}_context.next=29;return dispatch({type:\"UPDATE\",id:props.foodItem._id,price:finalPrice,qty:qty});case 29:return _context.abrupt(\"return\");case 30:_context.next=32;return dispatch({type:\"ADD\",id:props.foodItem._id,name:props.foodItem.name,price:props.finalPrice,qty:qty,size:size,img:props.foodItem.img});case 32:_context.next=34;return console.log(data);case 34:case\"end\":return _context.stop();}},_callee,null,[[2,13,16,19]]);}));return function HandleAddtoCart(){return _ref.apply(this,arguments);};}();var finalPrice=qty*parseInt(options[size]);var priceRef=useRef();useEffect(function(){setSize(priceRef.current.value);},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:props.foodItem.img,alt:\"img\",srcSet:\"\",style:{\"height\":\"13rem\",\"width\":\"20rem\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.foodItem.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container w-100\",children:/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return setQty(e.target.value);},children:Array.from(Array(6),function(e,i){return/*#__PURE__*/_jsxs(\"option\",{value:i+1,children:[\" \",i+1,\" \"]},i+1);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-select\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"select\",ref:priceRef,onChange:function onChange(e){return setSize(e.target.value);},children:priceOptions.map(function(data){return/*#__PURE__*/_jsxs(\"option\",{value:data,children:[\" \",data,\" \"]},data);})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:HandleAddtoCart,style:{\"border\":\"2px solid black\"},children:\"Add to Cart\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"Price : \\u20B9\",finalPrice]})]})]})});};export default Card;","map":{"version":3,"names":["React","useEffect","useState","useRef","useDispatchCart","useCart","jsx","_jsx","jsxs","_jsxs","Card","props","data","dispatch","options","priceOptions","Object","keys","_useState","_useState2","_slicedToArray","qty","setQty","_useState3","_useState4","size","setSize","HandleAddtoCart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","food","_iterator","_step","item","wrap","_callee$","_context","prev","next","_createForOfIteratorHelper","s","n","done","value","id","foodItem","_id","abrupt","t0","e","f","finish","type","price","finalPrice","name","img","console","log","stop","apply","arguments","parseInt","priceRef","current","children","className","src","alt","srcSet","style","onChange","target","Array","from","i","ref","map","onClick"],"sources":["D:/Food Delivery App MERN/frontend/food/src/components/Card.jsx"],"sourcesContent":["import React, { useEffect, useState ,useRef } from 'react'\r\n\r\nimport '../styles/card.css'\r\n\r\nimport { useDispatchCart, useCart } from './contextReducer';\r\n\r\n\r\nconst Card = (props) => {\r\n    let data=useCart()\r\n    let dispatch=useDispatchCart()\r\n    let options=props.options;\r\n    let priceOptions= Object.keys(options)\r\n    const[qty,setQty]=useState(1)\r\n    const[size,setSize]=useState(\"\")\r\n\r\n  const HandleAddtoCart=async()=>{\r\n    let food=[]\r\n    for(const item of data){\r\n        if(item.id===props.foodItem._id){\r\n        food=item;\r\n        break;\r\n        }\r\n    }\r\n    if(!food.size==[]){\r\n        if(food.size===size){\r\n            await dispatch({type:\"UPDATE\",id:props.foodItem._id,price:finalPrice,qty:qty})\r\n            return\r\n        }\r\n        else if (food.size!==size){\r\n            await dispatch({type:\"UPDATE\",id:props.foodItem._id, price:finalPrice,qty:qty})\r\n            return\r\n        }\r\n        \r\n    }\r\n    await dispatch ({type:\"ADD\", id:props.foodItem._id, name:props.foodItem.name,price:props.finalPrice,qty:qty ,size:size ,img:props.foodItem.img})\r\n    await console.log(data)\r\n  }\r\n  let finalPrice= qty*parseInt(options[size]);\r\n  let priceRef=useRef();\r\n  useEffect(()=>{\r\n    setSize(priceRef.current.value)\r\n  },[])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card\" >\r\n                <img src={props.foodItem.img} alt=\"img\" srcSet=\"\" style={{\"height\":\"13rem\", \"width\":\"20rem\"}}/>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{props.foodItem.name}</h5>\r\n                    <p className=\"card-text\"></p>\r\n                    {/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\r\n                    <div className='container w-100'>\r\n                    <select onChange={(e)=>setQty(e.target.value)}>\r\n                        {Array.from(Array(6),(e,i)=>{\r\n                            return(<option key={i+1} value={i+1}> {i+1} </option>)\r\n                        })}\r\n                    </select>\r\n                    </div>\r\n                    <div className=\"custom-select\">\r\n                        <select className='select' ref={priceRef} onChange={(e)=>setSize(e.target.value)}>\r\n                          {priceOptions.map((data)=>{\r\n                            return <option key={data} value={data} > {data} </option> \r\n                          })}\r\n                        </select>\r\n\r\n                        <button className='btn' onClick={HandleAddtoCart} style={{\"border\":\"2px solid black\"}}>\r\n                            Add to Cart\r\n                        </button>\r\n                    </div>\r\n                    <div className='price'>Price : â‚¹{finalPrice}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Food Delivery App MERN/frontend/food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{padding}from'@mui/system';import React from'react';import'../styles/cart.css';import{useCart,useDispatchCart}from'./contextReducer';import DeleteIcon from'@mui/icons-material/Delete';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var data=useCart();var dispatch=useDispatchCart();var navigate=useNavigate();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{style:{\"paddingTop\":\"20rem\",\"textAlign\":\"center\",\"fontSize\":\"larger\"},children:\"Cart is Empty\"})})});}// const handleLogout=async()=>{\n//     let userEmail=localStorage.getItem(\"userEmail\")\n//     let responses= fetch('http://localhost:7000/api/orderData')\n//     .then((response)=>response.json())\n//     .then((data)=>console.log(data))\n//     .catch((err)=>console.log(err))\n// }\nvar handleOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userEmail,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userEmail=localStorage.getItem(\"userEmail\");_context.next=3;return fetch(\"http://localhost:7000/api/orderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString()})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:response=_context.sent;console.log(\"Order Response:\",response);if(response.status===200){dispatch({type:\"DROP\"});}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleOut(){return _ref.apply(this,arguments);};}();var totalPrice=data.reduce(function(total,food){return total+food.price;},0);return/*#__PURE__*/_jsx(\"div\",{style:{\"paddingTop\":\"10rem\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Shopping Cart\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col align-self-center text-right text-muted\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row border-top border-bottom\",children:[\"  \",data.map(function(food,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"row main align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:food.img,style:{\"height\":\"2rem\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row text-muted\",children:food.size}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:food.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"border\",children:food.qty}),/*#__PURE__*/_jsx(\"a\",{href:\"#\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\" \",food.price,\"\\u20B9 \",/*#__PURE__*/_jsx(DeleteIcon,{style:{\"margin-left\":\"1rem\",\"cursor\":\"pointer\",\"font-size\":\"1.5rem\"},className:\"close\",onClick:function onClick(){dispatch({type:\"REMOVE\",index:index});}})]})]});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"back-to-shop\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-muted\",children:\"Back to shop\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 summary\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Summary\"})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",style:{\"padding-left\":\"0.4rem\"},children:\" TOTAL ITEMS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-right\",children:data.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{\"border-top\":\"1px solid rgba(0,0,0,.1)\",\"padding\":\"2vh 0\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"TOTAL PRICE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-right\",children:totalPrice})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn2\",onClick:handleOut,children:\"CHECKOUT\"})]})]})})});};export default Cart;","map":{"version":3,"names":["padding","React","useCart","useDispatchCart","DeleteIcon","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","navigate","length","children","style","handleOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userEmail","response","wrap","_callee$","_context","prev","next","localStorage","getItem","fetch","method","headers","body","JSON","stringify","order_data","email","order_date","Date","toDateString","sent","json","console","log","status","type","stop","apply","arguments","totalPrice","reduce","total","food","price","className","map","index","src","img","size","name","href","qty","onClick","to"],"sources":["D:/Food Delivery App MERN/frontend/food/src/components/Cart.jsx"],"sourcesContent":["import { padding } from '@mui/system'\r\nimport React from 'react'\r\nimport '../styles/cart.css'\r\nimport { useCart, useDispatchCart } from './contextReducer'\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\n\r\nconst Cart = () => {\r\n\r\n    let data = useCart();\r\n    let dispatch = useDispatchCart();\r\n\r\n    const navigate=useNavigate()\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\n    if (data.length === 0) {\r\n        return (\r\n            <div>\r\n                <div><h1 style={{ \"paddingTop\": \"20rem\", \"textAlign\": \"center\", \"fontSize\": \"larger\" }}>Cart is Empty</h1></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // const handleLogout=async()=>{\r\n    //     let userEmail=localStorage.getItem(\"userEmail\")\r\n    //     let responses= fetch('http://localhost:7000/api/orderData')\r\n    //     .then((response)=>response.json())\r\n    //     .then((data)=>console.log(data))\r\n    //     .catch((err)=>console.log(err))\r\n    // }\r\n\r\n   \r\n\r\n   \r\n\r\n  \r\n    const handleOut= async () => {\r\n        let userEmail = localStorage.getItem(\"userEmail\")\r\n        let response = await fetch(\"http://localhost:7000/api/orderData\",{\r\n            method: 'POST',\r\n            headers: {\r\n                \r\n                'Content-Type': 'application/json'\r\n            },\r\n       \r\n              \r\n            body:JSON.stringify({\r\n                order_data: data,\r\n                email:userEmail,\r\n                order_date: new Date().toDateString()\r\n            })\r\n        });\r\n        response = await response.json();\r\n        console.log(\"Order Response:\", response)\r\n        if (response.status === 200) {\r\n            dispatch({type: \"DROP\"})\r\n        }\r\n    }\r\n\r\n    let totalPrice = data.reduce((total, food) => total + food.price, 0)\r\n\r\n\r\n    return (\r\n\r\n        <div style={{ \"paddingTop\": \"10rem\" }} >\r\n            <div className=\"card\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8 cart\">\r\n                        <div className=\"title\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col\" ><h4><b>Shopping Cart</b></h4></div>\r\n                                <div className=\"col align-self-center text-right text-muted\"></div>\r\n                            </div>\r\n                        </div>\r\n\r\n                      \r\n\r\n                 \r\n                        <div className=\"row border-top border-bottom\">  {data.map((food, index) => (\r\n                            <div className=\"row main align-items-center\">\r\n                                <div className=\"col-2\"><img className=\"img-fluid\" src={food.img} style={{ \"height\": \"2rem\" }} /></div>\r\n                                <div className=\"col\">\r\n                                    <div className=\"row text-muted\">{food.size}</div>\r\n                                    <div className=\"row\">{food.name}</div>\r\n                                </div>\r\n                                <div className=\"col\">\r\n                                    <a href=\"#\"></a><a href=\"#\" className=\"border\">{food.qty}</a><a href=\"#\"></a>\r\n                                </div>\r\n                                <div className=\"col\"> {food.price}â‚¹ <DeleteIcon style={{ \"margin-left\": \"1rem\", \"cursor\": \"pointer\", \"font-size\": \"1.5rem\" }} className=\"close\" onClick={() => { dispatch({ type: \"REMOVE\", index: index }) }}  ></DeleteIcon></div>\r\n                            </div>\r\n                        ))}\r\n\r\n                        </div>\r\n\r\n\r\n                        <div className=\"back-to-shop\"><a href=\"#\"></a><Link to='/' className=\"text-muted\">Back to shop</Link></div>\r\n                    </div>\r\n                    <div className=\"col-md-4 summary\">\r\n                        <div><h5><b>Summary</b></h5></div>\r\n                        <hr />\r\n                        <div className=\"row\">\r\n                            <div className=\"col\" style={{ \"padding-left\": \"0.4rem\" }}> TOTAL ITEMS</div>\r\n                            <div className=\"col text-right\">{data.length}</div>\r\n                        </div>\r\n\r\n                        <div className=\"row\" style={{ \"border-top\": \"1px solid rgba(0,0,0,.1)\", \"padding\": \"2vh 0\" }}>\r\n                            <div className=\"col\">TOTAL PRICE</div>\r\n                            <div className=\"col text-right\">{totalPrice}</div>\r\n                        </div>\r\n                        <button className=\"btn2\" onClick={handleOut} >CHECKOUT</button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n      \r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
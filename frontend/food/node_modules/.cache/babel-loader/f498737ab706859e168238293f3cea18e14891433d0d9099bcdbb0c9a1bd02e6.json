{"ast":null,"code":"import _slicedToArray from\"D:/Food Delivery App MERN/backend/frontend/food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/Food Delivery App MERN/backend/frontend/food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/Food Delivery App MERN/backend/frontend/food/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{createContext,useContext,useReducer}from'react';//globalstate (can be used anywhere in application)\nimport{jsx as _jsx}from\"react/jsx-runtime\";var CartStateContext=/*#__PURE__*/createContext();var CartDispatchContext=/*#__PURE__*/createContext();var reducer=function reducer(state,action){switch(action.type){case\"ADD\":return[].concat(_toConsumableArray(state),[{id:action.id,name:action.name,qty:action.qty,size:action.size,price:action.price,img:action.img}]);case\"REMOVE\":var newArr=_toConsumableArray(state);newArr.splice(action.index,1);return newArr;case\"UPDATE\":var arr=_toConsumableArray(state);arr.find(function(food,index){if(food.id===action.id){console.log(food.qty,parseInt(action.qty),action.price+food.price);arr[index]=_objectSpread(_objectSpread({},food),{},{qty:parseInt(action.qty)+food.qty,price:action.price+food.price});}return arr;});return arr;case\"DROP\":var empArray=[];return empArray;default:console.log(\"Error in Reducer\");}};export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,[]),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export var useCart=function useCart(){return useContext(CartStateContext);};export var useDispatchCart=function useDispatchCart(){return useContext(CartDispatchContext);};","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","concat","_toConsumableArray","id","name","qty","size","price","img","newArr","splice","index","arr","find","food","console","log","parseInt","_objectSpread","empArray","CartProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["D:/Food Delivery App MERN/backend/frontend/food/src/components/contextReducer.js"],"sourcesContent":["import React, { createContext,useContext,useReducer } from 'react'\r\n\r\n//globalstate (can be used anywhere in application)\r\nconst CartStateContext=createContext();\r\nconst CartDispatchContext=createContext();\r\n\r\nconst reducer=(state,action)=>{\r\n    switch(action.type){\r\n        case \"ADD\":\r\n            return[...state, {id: action.id,name: action.name,qty: action.qty, size: action.size, price:action.price, img: action.img}]\r\n        case \"REMOVE\":\r\n            let newArr=[...state]\r\n            newArr.splice(action.index,1)\r\n            return newArr\r\n        case \"UPDATE\":\r\n            let arr=[...state]\r\n            arr.find((food,index)=>{\r\n                if(food.id===action.id){\r\n                    console.log(food.qty,parseInt(action.qty),action.price + food.price)\r\n                    arr[index]={...food,qty:parseInt(action.qty)+food.qty,price:action.price+food.price}\r\n                }\r\n                return arr\r\n            })\r\n              return arr\r\n              case \"DROP\":\r\n                let empArray=[]\r\n                return empArray      \r\n\r\n            default:\r\n                console.log(\"Error in Reducer\");\r\n                \r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const CartProvider = ({children}) => {\r\n    const[state,dispatch]=useReducer(reducer,[])\r\n  return (\r\n    <CartDispatchContext.Provider value={dispatch}>\r\n        <CartStateContext.Provider value={state}>\r\n            {children}\r\n        </CartStateContext.Provider>\r\n    </CartDispatchContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useCart=()=>useContext(CartStateContext)\r\nexport const useDispatchCart=()=>useContext(CartDispatchContext)"],"mappings":"sZAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAACC,UAAU,CAACC,UAAU,KAAQ,OAAO,CAElE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,GAAM,CAAAC,gBAAgB,cAACL,aAAa,EAAE,CACtC,GAAM,CAAAM,mBAAmB,cAACN,aAAa,EAAE,CAEzC,GAAM,CAAAO,OAAO,CAAC,QAAR,CAAAA,OAAOA,CAAEC,KAAK,CAACC,MAAM,CAAG,CAC1B,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,KAAK,CACN,SAAAC,MAAA,CAAAC,kBAAA,CAAUJ,KAAK,GAAE,CAACK,EAAE,CAAEJ,MAAM,CAACI,EAAE,CAACC,IAAI,CAAEL,MAAM,CAACK,IAAI,CAACC,GAAG,CAAEN,MAAM,CAACM,GAAG,CAAEC,IAAI,CAAEP,MAAM,CAACO,IAAI,CAAEC,KAAK,CAACR,MAAM,CAACQ,KAAK,CAAEC,GAAG,CAAET,MAAM,CAACS,GAAG,CAAC,GAC9H,IAAK,QAAQ,CACT,GAAI,CAAAC,MAAM,CAAAP,kBAAA,CAAKJ,KAAK,CAAC,CACrBW,MAAM,CAACC,MAAM,CAACX,MAAM,CAACY,KAAK,CAAC,CAAC,CAAC,CAC7B,MAAO,CAAAF,MAAM,CACjB,IAAK,QAAQ,CACT,GAAI,CAAAG,GAAG,CAAAV,kBAAA,CAAKJ,KAAK,CAAC,CAClBc,GAAG,CAACC,IAAI,CAAC,SAACC,IAAI,CAACH,KAAK,CAAG,CACnB,GAAGG,IAAI,CAACX,EAAE,GAAGJ,MAAM,CAACI,EAAE,CAAC,CACnBY,OAAO,CAACC,GAAG,CAACF,IAAI,CAACT,GAAG,CAACY,QAAQ,CAAClB,MAAM,CAACM,GAAG,CAAC,CAACN,MAAM,CAACQ,KAAK,CAAGO,IAAI,CAACP,KAAK,CAAC,CACpEK,GAAG,CAACD,KAAK,CAAC,CAAAO,aAAA,CAAAA,aAAA,IAAKJ,IAAI,MAACT,GAAG,CAACY,QAAQ,CAAClB,MAAM,CAACM,GAAG,CAAC,CAACS,IAAI,CAACT,GAAG,CAACE,KAAK,CAACR,MAAM,CAACQ,KAAK,CAACO,IAAI,CAACP,KAAK,EAAC,CACxF,CACA,MAAO,CAAAK,GAAG,CACd,CAAC,CAAC,CACA,MAAO,CAAAA,GAAG,CACV,IAAK,MAAM,CACT,GAAI,CAAAO,QAAQ,CAAC,EAAE,CACf,MAAO,CAAAA,QAAQ,CAEnB,QACIJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAMhD,CAAC,CAED,MAAO,IAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAmB,IAAd,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAClC,IAAAC,WAAA,CAAsB/B,UAAU,CAACK,OAAO,CAAC,EAAE,CAAC,CAAA2B,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAAtCzB,KAAK,CAAA0B,YAAA,IAACE,QAAQ,CAAAF,YAAA,IACtB,mBACE9B,IAAA,CAACE,mBAAmB,CAAC+B,QAAQ,EAACC,KAAK,CAAEF,QAAS,CAAAJ,QAAA,cAC1C5B,IAAA,CAACC,gBAAgB,CAACgC,QAAQ,EAACC,KAAK,CAAE9B,KAAM,CAAAwB,QAAA,CACnCA,QAAQ,EACe,EACD,CAEnC,CAAC,CAED,MAAO,IAAM,CAAAO,OAAO,CAAC,QAAR,CAAAA,OAAOA,CAAA,QAAK,CAAAtC,UAAU,CAACI,gBAAgB,CAAC,GACrD,MAAO,IAAM,CAAAmC,eAAe,CAAC,QAAhB,CAAAA,eAAeA,CAAA,QAAK,CAAAvC,UAAU,CAACK,mBAAmB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}